// ✅ この App は「タイトル + 選手一覧」を表示するルートコンポーネントである。
// - Vite の環境変数からタイトルを取得し（ビルド/起動時に注入される値）
// - 静的に定義した players 配列（データ）を子コンポーネント PlayerList に渡して描画させる
//
// アルゴリズム的な本質は：
// 1) “設定値（title）” と “データ（players）” をトップレベルで準備する（入力の準備）
// 2) App はそれらを JSX に差し込む（宣言的合成）
// 3) PlayerList に props として渡すことで、
//    「データ（配列）→ UI（リスト）」への変換処理を子へ委譲する（責務分離）
//
// つまり App は “データ供給者 / 合成器” であり、
// リスト化（map や並び替え、欠損値処理など）のアルゴリズムは PlayerList が担う構造である。

import PlayerList from '@/components/PlayerList.tsx';
/*
  ✅ PlayerList コンポーネントの import。
  - `@/` は tsconfig の paths などで `src/` にエイリアスされている想定。
  - `.tsx` 拡張子を明示している点は `allowImportingTsExtensions` が有効な設定と整合する。

  アルゴリズム観点：
  - “表示ロジック（リスト生成）” を別モジュールに分割し、
    App は入力（props）を渡して合成するだけにする。
*/

// ------------------------------------------------------------
// 1) 環境変数からタイトルを取り出す（静的設定値）
// ------------------------------------------------------------
const title = import.meta.env.VITE_APP_TITLE;
/*
  ✅ Vite が注入する `import.meta.env` からタイトルを取得する。
  - これはモジュール評価時に 1 回だけ評価される定数で、
    React state のように再レンダーで変化する値ではない。

  アルゴリズム的には：
  - “設定値” をアプリの入力として取り込み、UI の表示に使う。
*/

// ------------------------------------------------------------
// 2) 表示したいデータセット（players）を用意
// ------------------------------------------------------------
const players = [
  {
    id: 1,
    name: '桜木花道',
    grade: 1,
    height: 189.2,
  },
  {
    id: 2,
    name: '流川 楓',
    grade: 1,
    height: 187,
  },
  {
    id: 3,
    name: '宮城リョータ',
    grade: 2,
    height: 168,
  },
  {
    id: 4,
    name: '三井 寿',
    grade: 3,
  },
  {
    id: 5,
    name: '赤木剛憲',
    grade: 3,
    height: 197,
  },
];
/*
  ✅ players は “配列データ” として固定で定義されている。
  - id はリスト描画で key に使える識別子（安定キー）になることが多い。
  - height が無い要素（id:4）が存在する点が重要で、
    PlayerList 側には「欠損値（undefined）をどう扱うか」という分岐が生じうる。

  アルゴリズム観点：
  - この配列は “入力データ” であり、UI は一般に
      players (data) -> rendered list (view)
    という写像で生成される。
  - 欠損値が混ざることで、写像は単純な format だけでなく
    null/undefined のハンドリング（フォールバック表示、条件分岐）が必要になる可能性がある。
*/

// ------------------------------------------------------------
// 3) App：入力を JSX に合成し、子にデータを渡す
// ------------------------------------------------------------
function App() {
  return (
    <main className="flex flex-col items-center justify-center min-h-screen space-y-8">
      {/*
        ✅ Tailwind で “中央寄せレイアウト” を作っている。
        - flex flex-col: 縦方向に積むレイアウト
        - items-center: 横方向（クロス軸）中央寄せ
        - justify-center: 縦方向（メイン軸）中央寄せ
        - min-h-screen: 画面高さ以上を確保（中央寄せが効きやすい）
        - space-y-8: 子要素間の縦スペース

        レイアウトは純粋な表示上の変換で、
        データアルゴリズム（players 処理）には関与しない。
      */}

      <h1>{title}</h1>
      {/*
        ✅ 設定値 title を見出しとして投影（render）。
        - title はトップレベル定数なので、基本的に同じ値が表示され続ける。
      */}

      <PlayerList school="湘北高校" players={players} />
      {/*
        ✅ 子コンポーネントへ props を渡す部分が “データフローの核心”。

        - school: 固定文字列（コンテキスト情報）
        - players: 配列データ（表示対象の集合）

        アルゴリズム的には：
        - App は “データ供給” と “UI 合成” を担当し、
          PlayerList が “配列→リストUI” への変換（たとえば map、ソート、フィルタ、
          欠損処理、表示フォーマット等）を担当する責務分離。
      */}
    </main>
  );
}

export default App;
/*
  ✅ ルートとして export され、main.tsx などで createRoot(...).render(<App />) される想定。

  ✅ 全体の入力モデル：
  - title: ビルド/起動時注入の設定値（静的）
  - players: アプリ側で準備したデータセット（静的、ただし実アプリなら API で動的にもなる）
  これらを props として渡し、表示アルゴリズムを PlayerList へ委譲する構造である。
*/