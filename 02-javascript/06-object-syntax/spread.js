/*
  ✅ このコードは「スプレッド構文（spread syntax）...」を
  - 配列の展開（要素のコピー・結合）
  - オブジェクトの展開（プロパティのシャローコピー・上書き）
  の2パターンで示している。

  Reactでも state 更新（不変更新）で頻出なので、
  「新しいコンテナを作り、要素/プロパティを順にコピーしていくアルゴリズム」
  として理解しておくと強い。

  ------------------------------------------------------------
  1) 配列スプレッドのアルゴリズム：新しい配列を作って順に要素を追加
  ------------------------------------------------------------
  const arr2 = [...arr1, 'd', 'e'];

  これは概念的には次と同じことをしている：

    const arr2 = [];
    for (const x of arr1) arr2.push(x);  // arr1 の要素を左から順にコピー
    arr2.push('d');
    arr2.push('e');

  ポイント：
  - 元の arr1 は変更されない（新しい配列 arr2 が作られる）
  - ただし “シャローコピー” なので、要素がオブジェクトなら参照は共有される

  ------------------------------------------------------------
  2) 配列スプレッドの位置：前にも後ろにも挿入できる
  ------------------------------------------------------------
  const arr3 = ['Y', 'Z', ...arr2];

  これは概念的には：

    const arr3 = [];
    arr3.push('Y');
    arr3.push('Z');
    for (const x of arr2) arr3.push(x);

  という “先に固定要素を入れて、後から展開分を足す” 形。

  ------------------------------------------------------------
  3) 実行結果（配列）
  ------------------------------------------------------------
  arr1 = ['a','b','c']
  arr2 = ['a','b','c','d','e']
  arr3 = ['Y','Z','a','b','c','d','e']

  console.log(arr2) -> ['a','b','c','d','e']
  console.log(arr3) -> ['Y','Z','a','b','c','d','e']

  ------------------------------------------------------------
  4) オブジェクトスプレッドのアルゴリズム：新しいオブジェクトに順にプロパティをコピー
  ------------------------------------------------------------
  const obj2 = { ...obj1, d: 99, e: 5 };

  これは概念的には次の処理に近い：

    const obj2 = {};
    for (const key of Object.keys(obj1)) obj2[key] = obj1[key]; // obj1 の列挙可能プロパティをコピー
    obj2['d'] = 99; // 同名キーがあれば上書き
    obj2['e'] = 5;

  ポイント：
  - これも “シャローコピー”
  - 同じキーが後から出てくると後勝ちで上書きされる
    → obj1.d は 4 だが、obj2 では d:99 になる

  ------------------------------------------------------------
  5) 実行結果（オブジェクト）
  ------------------------------------------------------------
  obj1 = { a:1, b:2, c:3, d:4 }
  obj2 = { a:1, b:2, c:3, d:99, e:5 }

  console.log(obj2) -> { a:1, b:2, c:3, d:99, e:5 }

  ------------------------------------------------------------
  6) Reactでの文脈（なぜ頻出か）
  ------------------------------------------------------------
  Reactの state は “直接変更せず、新しい値を作って差し替える” のが基本。
  スプレッドはこの「不変更新」の最短表現になりやすい。

  - 配列：setItems(prev => [...prev, newItem])
  - オブジェクト：setForm(prev => ({ ...prev, email: '...' }))

  ただしシャローコピーなので、ネスト構造の深い更新には注意が必要。
*/

const arr1 = ['a', 'b', 'c'];          // ✅ 元配列（不変のつもりで扱う）
const arr2 = [...arr1, 'd', 'e'];      // ✅ arr1 を展開して新配列を作り、末尾に 'd','e' を追加
const arr3 = ['Y', 'Z', ...arr2];      // ✅ 先頭に 'Y','Z' を置き、その後ろに arr2 の要素を展開して結合

console.log(arr2); // ['a','b','c','d','e']
console.log(arr3); // ['Y','Z','a','b','c','d','e']

const obj1 = { a: 1, b: 2, c: 3, d: 4 };      // ✅ 元オブジェクト
const obj2 = { ...obj1, d: 99, e: 5 };        // ✅ obj1 をシャローコピーし、d を上書きし、e を追加

console.log(obj2); // { a:1, b:2, c:3, d:99, e:5 }