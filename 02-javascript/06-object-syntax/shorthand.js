/*
  ✅ このコードは「オブジェクトリテラルにおけるキーの表現方法」と
    「計算されるプロパティ名（computed property name）」と
    「プロパティの上書き規則（同名キーの衝突）」と
    「プロパティの省略記法（shorthand property）」をまとめて確認する例である。

  ------------------------------------------------------------
  1) obj1 の各プロパティはどう解釈されるか
  ------------------------------------------------------------
  obj1 は次のような複数のキー表現を混在させている。

    const obj1 = {
      foo: 4,
      'foo': 8,
      '<fuu>': 16,
      [bar]: 128,
      [`_${bar}2`]: 256,
      baz: baz / 2,
    };

  ここでの重要ポイントは2つ：

  (A) キーは最終的に「文字列（またはSymbol）」として扱われる
      - foo: 4  はキー "foo"
      - 'foo': 8 もキー "foo"
      → つまり foo と 'foo' は同じキーを指す

  (B) 同じキーが複数回定義されると、後に書かれたものが勝つ（上書き）
      - foo: 4 のあとに 'foo': 8 が出てくるため
        obj1.foo は最終的に 8 になる

  ------------------------------------------------------------
  2) 計算されるプロパティ名（computed property name）
  ------------------------------------------------------------
  [bar]: 128 のように [] で囲むと、キーが「式」として評価される。

    bar = "key" なので
    [bar]: 128 は
    "key": 128 と同じ意味になる。

  同様にテンプレート文字列を使った

    [`_${bar}2`]: 256

  は、式が先に評価されて

    `_${bar}2` -> "_key2"

  となるため

    "_key2": 256

  というキーになる。

  ------------------------------------------------------------
  3) baz: baz / 2 は「キー baz」と「値の計算」
  ------------------------------------------------------------
  - 左側の baz は “キー名” としての baz（文字列 "baz"）
  - 右側の baz は “変数 baz” の参照（= 1024）
  よって値は 1024 / 2 = 512 になる。

  つまり obj1.baz は 512。

  ------------------------------------------------------------
  4) 何が出力される？（obj1 の中身）
  ------------------------------------------------------------
  変数の値：
    foo = 'dummy'  ※これは obj1 のキー定義には使われていない（紛らわしいが無関係）
    bar = 'key'
    baz = 1024

  obj1 は最終的に概ねこうなる（順序表示は環境依存だが内容は同じ）：

    {
      foo: 8,         // foo:4 が 'foo':8 で上書き
      "<fuu>": 16,
      key: 128,       // [bar] -> "key"
      "_key2": 256,   // [`_${bar}2`] -> "_key2"
      baz: 512        // baz / 2
    }

  ------------------------------------------------------------
  5) obj2 の省略記法（shorthand property）
  ------------------------------------------------------------
  const obj2 = { baz };

  これは
    const obj2 = { baz: baz };
  の省略形である。

  つまり obj2 は
    { baz: 1024 }
  になる。

  ------------------------------------------------------------
  6) React/フロントでの利用イメージ（よく出る）
  ------------------------------------------------------------
  - computed property は「動的にキーを作る」場面で多用する
    例：setState の部分更新、辞書（map）構築、フォーム入力の name をキーにする等

  - shorthand は「変数名とキー名が同じ」場面でコードを短くできる
    例：{ user, token, expiresAt } など
*/

const foo = 'dummy'; // ⚠️ この変数 foo は obj1 のキー定義（foo:4 など）とは別物で、今回の obj1 には使われない
const bar = 'key';   // ✅ computed property のキー生成に使われる
const baz = 1024;    // ✅ 値計算と shorthand の元になる

const obj1 = {
  foo: 4,            // ✅ キー "foo" に 4 を設定
  'foo': 8,          // ✅ キー "foo" に 8 を設定（同名なので上書きされ、最終的に foo は 8）
  '<fuu>': 16,       // ✅ 文字列キー "<fuu>"
  [bar]: 128,        // ✅ computed property：bar="key" → キー "key" に 128
  [`_${bar}2`]: 256, // ✅ computed property：`_${bar}2` → "_key2" → キー "_key2" に 256
  baz: baz / 2,      // ✅ キー "baz"、値は変数 baz(=1024) を使って計算 → 512
};
console.log(obj1);

const obj2 = { baz }; // ✅ shorthand：{ baz: baz } の省略 → { baz: 1024 }
console.log(obj2);