/*
  ✅ このコードは「デフォルト引数（default parameter）」と
    「アロー関数の式本体（暗黙return）」と
    「べき乗演算子（**）」を組み合わせた例である。

  ------------------------------------------------------------
  1) 結果（何が出力される？）
  ------------------------------------------------------------
  - raise(2, 3) は 2 の 3 乗なので 8
  - raise(3) は m を省略しているのでデフォルトの 2 が使われ、3 の 2 乗で 9

  出力は次の通り：
    8
    9

  ------------------------------------------------------------
  2) アルゴリズム観点：引数束縛（parameter binding）の流れ
  ------------------------------------------------------------
  関数呼び出し時、エンジンは引数を次の順序で束縛する（概念）：

  1) 渡された実引数（arguments）を仮引数（n, m）へ対応付ける
     - raise(2, 3) の場合：n=2, m=3
     - raise(3) の場合：n=3, m=undefined（第2引数が渡されていない）

  2) デフォルト引数の適用
     - デフォルト値は「仮引数が undefined のときだけ」評価される
       ※ null のときは undefined ではないのでデフォルトは使われない

     - raise(2, 3): m は 3（undefinedではない）→ デフォルト適用なし
     - raise(3): m は undefined → m=2 を採用

  3) 本体の評価へ進む

  この “undefined のときだけデフォルト適用” という規則がポイントである。

  ------------------------------------------------------------
  3) アロー関数の式本体：暗黙return
  ------------------------------------------------------------
  const raise = (n, m = 2) => n ** m;

  これはブロック `{}` を持たない「式本体」なので、
  `n ** m` の結果がそのまま返る（暗黙return）。

  つまり概念的には次と同じ：

    const raise = (n, m = 2) => {
      return n ** m;
    };

  ------------------------------------------------------------
  4) べき乗演算子 `**` の意味
  ------------------------------------------------------------
  `n ** m` は「n を m 乗する」演算である。
  例：
    2 ** 3 = 8
    3 ** 2 = 9

  実装イメージとしては Math.pow(n, m) と同等の目的。
  （ただし仕様上の細部は異なり得るが、通常の数値用途では同じ感覚で使える。）

  ------------------------------------------------------------
  5) 注意点（よくある誤解）
  ------------------------------------------------------------
  - m を省略したときだけデフォルトが効く（undefined のときだけ）
    raise(3, null) は m=null なのでデフォルトは使われず、
    3 ** null（= 3 ** 0 と同等扱いになりがち）など、意図しない結果になり得る。

  - `n ** m` は右結合（right-associative）なので、
    a ** b ** c は a ** (b ** c) になる点にも注意が必要（今回の例では関係しない）。
*/

const raise = (n, m = 2) => n ** m;
// ✅ 引数 m のデフォルト値を 2 にしているため、m を省略すると二乗になる
// ✅ 式本体アロー関数なので n ** m の結果がそのまま返る（暗黙return）

console.log(raise(2, 3)); // 8（2の3乗）
console.log(raise(3));    // 9（m省略→2、3の2乗）