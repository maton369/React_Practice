/*
  ✅ このコードは「関数宣言（Function Declaration）」と
    「関数式（Function Expression）」の違いを示す例である。

  Reactそのものではないが、JSにおける関数の扱いは
  - コールバック（onClick等）
  - Hooks（useEffectの依存関係）
  - 再レンダリング時の関数再生成
  などに直結するため、言語仕様として重要である。

  ------------------------------------------------------------
  1) 結果（何が出力される？）
  ------------------------------------------------------------
  出力は両方とも 20 になる。

    double(10) -> 20
    dbl(10)    -> 20

  「計算結果」は同じだが、定義方法によって
  - いつ使えるか（巻き上げ）
  - 名前の扱い
  - スコープと初期化の性質
  が異なる。

  ------------------------------------------------------------
  2) 関数宣言（function double(n) { ... }）の特徴
  ------------------------------------------------------------
  これは “関数宣言” であり、エンジンはスコープ構築段階で
  double という識別子を関数オブジェクトとして登録する。

  ■ アルゴリズム観点（実行前の準備）
  JavaScriptエンジンは実行前に
  - 宣言を集めて環境（Environment Record）を作る
  という処理を行う。

  関数宣言はここで「関数本体を含めて」登録されるため、
  コード上の出現位置より前でも呼び出せる（巻き上げの強さが大きい）。

  例：
    console.log(double(10)); // 先に呼べても動く
    function double(n) { return n * 2; }

  ※ ただし実務では “先に使える” ことに依存すると可読性が落ちるので、
     宣言位置は分かりやすく配置するのが普通。

  ------------------------------------------------------------
  3) 関数式（const dbl = function (n) { ... }）の特徴
  ------------------------------------------------------------
  これは “関数式” であり、ポイントは
  「関数を作る」ことと「変数に代入する」ことが別である点。

  - `function (n) { ... }` は “値（関数オブジェクト）” を生成する式
  - `const dbl = ...` は その値を dbl に束縛する（代入する）

  ■ 初期化タイミング（TDZ）
  dbl は `const` なので、宣言から初期化まで “Temporal Dead Zone” があり、
  初期化前に参照すると ReferenceError になる。

  例：
    console.log(dbl(10)); // ReferenceError（初期化前）
    const dbl = function(n){ return n*2; };

  つまり、関数式は「代入が実行されて初めて使える」。

  ------------------------------------------------------------
  4) 名前の扱い（デバッグ・スタックトレース）
  ------------------------------------------------------------
  - 関数宣言：関数名 double を持つ（スタックトレースでも分かりやすい）
  - 関数式：ここでは無名関数（anonymous function）を dbl に代入している

  最近のJSエンジンは推論で名前を付けてくれることもあるが、
  依然としてデバッグの観点では
  - 明示的な名前付き関数式
    const dbl = function dbl(n) { ... }
  のようにするケースもある（ただし普段はそこまでしないことが多い）。

  ------------------------------------------------------------
  5) Reactとの接続（なぜ知っておくと得か）
  ------------------------------------------------------------
  Reactではイベントハンドラやコールバックを頻繁に書くため、
  関数が「いつ生成されるか」「再レンダリングで毎回新しくなるか」が重要になる。

  - 関数宣言は “定義が先に確保される” 特性がある
  - 関数式は “代入が走る時点で生成される” ため、特にコンポーネント内に書くと
    再レンダリングごとに新しい関数が生成される（参照が変わる）
    → useEffect依存配列やmemo化で差が出ることがある

  ただし、この例はグローバルスコープなのでレンダリング再生成の話は直接は起きない。
*/

//
// ✅ 関数宣言文による定義（Function Declaration）
// - スコープ構築時に関数が登録される（強い巻き上げ）
// - 出現位置より前でも呼び出せる
//
function double(n) {
  return n * 2;
}

//
// ✅ 関数式による定義（Function Expression）
// - 右辺は「関数オブジェクトを生成する式」
// - const への代入が実行されて初めて dbl が使える
//
const dbl = function (n) {
  return n * 2;
};

console.log(double(10)); // 20
console.log(dbl(10));    // 20