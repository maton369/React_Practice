// ✅ このコードは TypeScript の「型エイリアス（type）」と「インターフェース（interface）」の両方で
// 同じ “通貨オブジェクト” の形状を表現し、実際に値を代入して使う例である。
//
// 重要ポイント：
// - Unit は文字列リテラル union で、通貨単位を有限集合に制限する（タイポ防止）
// - TCurrency（type）と ICurrency（interface）はどちらも { unit, amount } という同一形状の契約
// - TypeScript は構造的型付けなので、ここではどちらで定義しても “使い勝手はほぼ同じ”
// - ただし type と interface には設計上の違いがあり、拡張・合成の得意不得意がある

{
    // ------------------------------------------------------------
    // 1) Unit：通貨単位を “有限集合” に制限する
    // ------------------------------------------------------------
    type Unit = "USD" | "EUR" | "JPY" | "GBP";
    /*
      ✅ Unit は「文字列」の中でも特定の4種類しか許可しない型。
      - "JPY" を "JYP" と誤記したらコンパイル時にエラーになる。
      - 分岐（switch）やバリデーションの対象が有限集合になるので扱いやすい。
    */

    // ------------------------------------------------------------
    // 2) type エイリアスで通貨型を定義（TCurrency）
    // ------------------------------------------------------------
    type TCurrency = {
        // ✅ unit は Unit 型（= 許された通貨単位のみ）
        unit: Unit;

        // ✅ amount は数値（通貨の量）
        // 実務だと整数（最小通貨単位）で持つ/小数を許す等の設計判断があるが、ここでは number。
        amount: number;
    };
    /*
      ✅ type の役割：
      - 「この形のオブジェクト」を TCurrency という名前で再利用できるようにする（別名付け）。
      - union / intersection / mapped type など型演算と相性が良い。
    */

    // ------------------------------------------------------------
    // 3) interface で同じ通貨型を定義（ICurrency）
    // ------------------------------------------------------------
    interface ICurrency {
        unit: Unit;
        amount: number;
    }
    /*
      ✅ interface の役割：
      - “オブジェクトの形状” を定義するのが得意。
      - extends による拡張や、宣言マージ（同名 interface の合体）などが可能。
  
      ✅ この例では TCurrency と ICurrency は同じ形状を表すため、
      使う側（値の代入・参照）から見るとほぼ同じ振る舞いになる。
    */

    // ------------------------------------------------------------
    // 4) 値の作成：それぞれの契約に従ってオブジェクトを作る
    // ------------------------------------------------------------
    const priceA: TCurrency = { unit: "JPY", amount: 1000 };
    /*
      ✅ priceA は TCurrency として型チェックされる：
      - unit は "JPY"（Unit の要素なので OK）
      - amount は 1000（number なので OK）
    */

    const priceB: ICurrency = { unit: "USD", amount: 10 };
    /*
      ✅ priceB は ICurrency として型チェックされる：
      - unit は "USD"（OK）
      - amount は 10（OK）
    */

    // ------------------------------------------------------------
    // 5) 出力：実行時にはただの JS オブジェクトとして表示される
    // ------------------------------------------------------------
    console.log(priceA);
    console.log(priceB);

    /*
      補足（type と interface の“選び方”の目安）：
      - “オブジェクトの形状” を中心に拡張していく（例：ICurrency に税情報を追加など）
        → interface が相性良いことが多い
      - union/intersection など型演算で組み立てたい（例：Unit を条件に amount の型を変える等）
        → type が相性良いことが多い
  
      ただしこの程度の単純な形状ならどちらでも実用上ほぼ同じ。
    */
}