// ✅ これは Node.js プロジェクトの package.json で、Vite + React + TypeScript の開発環境を定義している。
// ここに書かれた情報は大きく分けて：
// - プロジェクトのメタデータ（name/version/private/type）
// - 実行コマンド（scripts）
// - 実行時に必要な依存（dependencies）
// - 開発時に必要な依存（devDependencies）
// を表す。
//
// アルゴリズム的な本質は：
// 1) package manager（npm/pnpm/yarn）が、この JSON を “依存グラフ定義” として読み取り、
//    semver（^ や ~）のルールでバージョンを解決する
// 2) 依存グラフに従って node_modules を構築し、実行時/開発時のモジュール解決を成立させる
// 3) scripts はシェルコマンドの別名として登録され、`npm run dev` などで実行される
// 4) Vite/tsc/eslint などがそれぞれの役割（ビルド/型検査/静的解析）を分担する
//
// つまり「依存解決（グラフ構築）＋ツールチェーン実行（スクリプト）」の司令塔が package.json である。

{
  "name": "vite-app",
  /*
    ✅ パッケージ名（プロジェクト名）。
    - 公開する npm パッケージ名としても使われうるが、private=true なので公開前提ではない。
  */

  "private": true,
  /*
    ✅ private=true は “誤って npm publish してしまう事故” を防ぐ安全装置。
    - アプリ（成果物が npm パッケージではない）では基本 true にすることが多い。
  */

  "version": "0.0.0",
  /*
    ✅ バージョン番号（SemVer: major.minor.patch）。
    - private アプリでも形式として置くことが多い。
  */

  "type": "module",
  /*
    ✅ Node のモジュール解決を ESM（import/export）前提にする設定。
    - これにより `.js` が CommonJS ではなく ES Module として扱われる。
    - Vite の設定ファイルなどが ESM で書かれている場合と整合する。

    アルゴリズム的には：
    - Node がファイルを解釈するときの “モジュール種別判定” に影響し、
      import/export の可否や require の扱いが変わる。
  */

  "scripts": {
    "dev": "vite",
    /*
      ✅ 開発サーバ起動。
      - Vite がファイル変更を監視し、HMR（ホット更新）を提供する。
      - 開発時はビルド生成よりも “高速な変換＋配信” が主眼。
    */

    "build": "tsc -b && vite build",
    /*
      ✅ 本番ビルド。
      - `tsc -b` は project references（複数 tsconfig の分割）を前提にしたビルド/型チェックでよく使う。
      - `&&` により、tsc が成功した場合のみ `vite build` が実行される。

      アルゴリズム的には：
      1) TypeScript が型検査（+ 設定によってはビルド情報作成）を行い、失敗なら停止
      2) Vite が依存グラフを解析し、必要な変換・バンドル・最適化を実行し、
         dist などに成果物を出力する
      という “品質ゲート（型）→ バンドル” の2段パイプライン。
    */

    "lint": "eslint .",
    /*
      ✅ ESLint による静的解析。
      - `.` はプロジェクト全体を対象に lint する指定。
      - ルールにより未使用変数、Hooks の誤用、React Refresh の制約違反などを検出する。

      アルゴリズム的には：
      - AST（抽象構文木）を解析し、ルール集合に基づいて違反を検出する静的検査フェーズ。
    */

    "preview": "vite preview"
    /*
      ✅ `vite build` の成果物をローカルで本番に近い形で配信して確認する。
      - dev サーバとは別で、生成済みファイルを配る想定。
    */
  },

  "dependencies": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
    /*
      ✅ 実行時依存（アプリが動くのに必要なライブラリ）。
      - react: コンポーネント/JSX/Hook などのコア
      - react-dom: ブラウザ DOM への描画（createRoot など）

      ✅ `^19.0.0` の意味（semver 範囲）：
      - 19.x.x の互換アップデートを許容する（パッチ・マイナーが上がり得る）。
      - 依存解決時に “許容範囲内で最新” が選ばれる可能性がある。
    */
  },

  "devDependencies": {
    "@eslint/js": "^9.30.1",
    /*
      ✅ ESLint の基本ルールセット（@eslint/js）。
      - eslint 本体と組み合わせて、標準的な JS ルールを提供する。
    */

    "@types/react": "^19.1.8",
    "@types/react-dom": "^19.1.6",
    /*
      ✅ TypeScript 用の型定義。
      - React/ReactDOM の API を型として理解できるようにする。
      - コンパイル時の型検査の語彙を増やす役割。
    */

    "@vitejs/plugin-react": "^4.6.0",
    /*
      ✅ Vite で React（JSX/TSX）を扱うためのプラグイン。
      - JSX 変換、Fast Refresh などを提供することが多い。
    */

    "eslint": "^9.30.1",
    /*
      ✅ ESLint 本体。
      - AST 解析 → ルール適用 → レポート、の静的解析エンジン。
    */

    "eslint-plugin-react-hooks": "^5.2.0",
    /*
      ✅ React Hooks のルール（Rules of Hooks）を検査するプラグイン。
      - Hook の呼び出し順序や条件分岐内での呼び出しなどを静的に検出する。

      アルゴリズム観点：
      - Hooks の“順序依存”という制約を、コード構造から推論して違反を報告する。
    */

    "eslint-plugin-react-refresh": "^0.4.20",
    /*
      ✅ React Refresh（Fast Refresh）と相性の悪い export パターンなどを検出するプラグイン。
      - HMR 時に状態保持を壊しやすい構造を避けるのに役立つ。
    */

    "globals": "^16.3.0",
    /*
      ✅ ESLint 設定などで “グローバル変数一覧” を扱う補助パッケージ。
      - 実行環境（browser/node）ごとの既知グローバルを定義するのに使われることが多い。
    */

    "typescript": "~5.8.3",
    /*
      ✅ TypeScript コンパイラ。
      - `~5.8.3` は “パッチ更新のみ許容” する範囲指定（5.8.x）。
      - ^ より更新範囲が狭く、予期せぬ破壊的変化リスクを抑えやすい。
    */

    "typescript-eslint": "^8.35.1",
    /*
      ✅ TypeScript を ESLint で扱うための統合（parser + ルール群）。
      - TS の構文を理解し、型情報に基づく lint も可能にする。
    */

    "vite": "^7.0.4",
    /*
      ✅ Vite 本体。
      - dev: 高速開発サーバ（依存グラフ解析 + オンデマンド変換 + HMR）
      - build: 本番バンドル（最適化/分割/圧縮など）
      を担当する中核ツール。
    */

    "vite-tsconfig-paths": "^5.1.4"
    /*
      ✅ tsconfig の paths（エイリアス）を Vite の解決に反映するプラグイン。
      - import の解決アルゴリズムを “tsconfig と同じ規則” に揃えるために入れる。
    */
  }
}